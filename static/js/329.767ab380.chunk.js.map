{"version":3,"file":"static/js/329.767ab380.chunk.js","mappings":"gKAIA,MA6FA,EA7FeA,IAAgB,IAAf,MAAEC,GAAOD,EACvB,MAAOE,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KACpCC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KACxCG,EAAaC,IAAkBJ,EAAAA,EAAAA,UAAS,IACxCK,EAAYC,IAAiBN,EAAAA,EAAAA,UAAS,GAEvCO,EAASC,mCAEfC,eAAeC,IAA2B,IAAXC,EAAIC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACpC,IACE,MAAMG,EAAWd,EAAW,qDAAAe,OAC6BT,EAAM,WAAAS,OAAUf,EAAW,yBAAAe,OAAwBb,GAAW,uDAAAa,OAC5DT,EAAM,yBAAAS,OAAwBb,GAEnFc,QAAgBC,MAAMH,GACtBI,QAAiBF,EAAQG,OAG7BrB,EADW,IAATY,EACWQ,EAASE,QAERC,GAAS,IAAIA,KAASH,EAASE,UAG/Cf,EAAca,EAASI,YACzB,CAAE,MAAOC,GACPC,QAAQD,MAAM,uBAAwBA,EACxC,CAEF,EAEAE,EAAAA,EAAAA,YAAU,KACRhB,GAAiB,GAChB,IAeH,OACEiB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,SAAC,kBAE3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,KACEF,UACE3B,EAAc,oBAAsB,+BAEtC8B,QAAUC,GAAM9B,EAAe,OAEjC4B,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLC,YAAY,eACZC,MAAOlC,EACPmC,SAAWJ,GAAM9B,EAAe8B,EAAEK,OAAOF,aAI7CL,EAAAA,EAAAA,KAAA,UAAQC,QAjCOO,KACnBlC,EAAe,GACfM,EAAgB,EAAE,EA+BgBmB,SAAC,eAGjCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SACxB/B,EAAUe,OAAS,EAClBf,EAAUyC,KAAI,CAAC1C,EAAO2C,KAAMV,EAAAA,EAAAA,KAACW,EAAAA,EAAI,CAAS5C,MAAOA,GAAV2C,MAEvCV,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gCAIP/B,EAAUe,QAAU,IACnBiB,EAAAA,EAAAA,KAAA,UACEF,UAAU,gBACVG,QA1CSW,KACf,GAAIvC,EAAcE,EAAY,CAC5B,MAAMqC,EAAWvC,EAAc,EAC/BC,EAAesC,GACfhC,EAAgBgC,EAClB,GAsCMC,SAAUxC,GAAeE,EAAWwB,SACrC,cAID,KAEE,C","sources":["pages/Search/Search.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./Search.css\";\r\nimport Card from \"../../components/Card/Card\";\r\n\r\nconst Search = ({ movie }) => {\r\n  const [showItems, setShowItems] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  const apiKey = process.env.REACT_APP_API_KEY;\r\n\r\n  async function fetchSearchData(page = 1) {\r\n    try {\r\n      const endpoint = searchQuery\r\n        ? `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${searchQuery}&language=en-US&page=${currentPage}`\r\n        : `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&page=${currentPage}`;\r\n\r\n      const request = await fetch(endpoint);\r\n      const response = await request.json();\r\n\r\n      if (page === 1) {\r\n        setShowItems(response.results);\r\n      } else {\r\n        setShowItems((prev) => [...prev, ...response.results]);\r\n      }\r\n\r\n      setTotalPages(response.total_pages);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    } finally {\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchSearchData();\r\n  }, []);\r\n\r\n  const searchMovies = () => {\r\n    setCurrentPage(1);\r\n    fetchSearchData(1);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      const nextPage = currentPage + 1;\r\n      setCurrentPage(nextPage);\r\n      fetchSearchData(nextPage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"movie_list\">\r\n      <h2 className=\"list_title\">Search Movie</h2>\r\n\r\n      <div className=\"search-bar\">\r\n        <div className=\"input-field\">\r\n          <i\r\n            className={\r\n              searchQuery ? \"fa-solid fa-xmark\" : \"fa-solid fa-magnifying-glass\"\r\n            }\r\n            onClick={(e) => setSearchQuery(\"\")}\r\n          ></i>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search movie\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <button onClick={searchMovies}>Search</button>\r\n      </div>\r\n\r\n      <div className=\"list_cards\">\r\n        {showItems.length > 1 ? (\r\n          showItems.map((movie, i) => <Card key={i} movie={movie} />)\r\n        ) : (\r\n          <h1>Sorry..... No Movie Found</h1>\r\n        )}\r\n      </div>\r\n\r\n      {showItems.length >= 20 ? (\r\n        <button\r\n          className=\"load_more_btn\"\r\n          onClick={nextPage}\r\n          disabled={currentPage >= totalPages}\r\n        >\r\n          Load More\r\n        </button>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"names":["_ref","movie","showItems","setShowItems","useState","searchQuery","setSearchQuery","currentPage","setCurrentPage","totalPages","setTotalPages","apiKey","process","async","fetchSearchData","page","arguments","length","undefined","endpoint","concat","request","fetch","response","json","results","prev","total_pages","error","console","useEffect","_jsxs","className","children","_jsx","onClick","e","type","placeholder","value","onChange","target","searchMovies","map","i","Card","nextPage","disabled"],"sourceRoot":""}