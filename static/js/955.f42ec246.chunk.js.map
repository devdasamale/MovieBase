{"version":3,"file":"static/js/955.f42ec246.chunk.js","mappings":"yKAKA,MA4FA,EA5FkBA,KAChB,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KACrC,KAAEC,IAASC,EAAAA,EAAAA,MAEVC,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAaC,IAAkBN,EAAAA,EAAAA,UAAS,IACxCO,EAAYC,IAAiBR,EAAAA,EAAAA,UAAS,GACvCS,EAASC,oCAEfC,EAAAA,EAAAA,YAAU,KACRZ,EAAa,IACbO,EAAe,GACfF,GAAW,GACXQ,OAAOC,SAAS,EAAG,EAAE,GACpB,CAACZ,KAEJU,EAAAA,EAAAA,YAAU,MACRG,iBACE,IAAIC,QAAgBC,MAAM,sCAADC,OAErBhB,GAAc,UAAS,aAAAgB,OACbR,EAAM,yBAAAQ,OAAwBZ,IAExCa,QAAiBH,EAAQI,OAEhB,aAATlB,GACFiB,EAASE,QAAQC,MACf,CAACC,EAAGC,IAAM,IAAIC,KAAKD,EAAEE,cAAgB,IAAID,KAAKF,EAAEG,gBAIpD1B,GAAc2B,GAAS,IAAIA,KAASR,EAASE,WAC7CZ,EAAcU,EAASS,aAEvBvB,GAAW,EACb,CACAwB,EAAW,GAEV,CAACnB,EAAQJ,EAAaJ,IAgBzB,OACE4B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,UAVTE,EAUuBhC,GAAc,GARtDgC,EACGC,cACAC,QAAQ,KAAM,KACdA,QAAQ,SAAUC,GAASA,EAAKC,gBAAiB,aAOnDlC,GAA2B,IAAhBE,GACVwB,EAAAA,EAAAA,MAAA,OAAKS,MAAM,cAAaP,SAAA,EACtBC,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,WACAA,EAAAA,EAAAA,KAAA,cAGFA,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SACxBjC,EAAUyC,KAAI,CAACC,EAAOC,KACrBT,EAAAA,EAAAA,KAACU,EAAAA,EAAI,CAASF,MAAOA,GAAVC,QAKjBT,EAAAA,EAAAA,KAAA,UACEF,UAAU,gBACVa,QA3CWC,KACXvC,EAAcE,GAChBD,GAAgBuC,GAASA,EAAO,GAClC,EAyCIC,SAAUzC,GAAeE,EAAWwB,SACrC,iBAvCgBE,KA0Cb,C","sources":["components/MovieList/MovieList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./MovieList.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Card from \"../Card/Card\";\r\n\r\nconst MovieList = () => {\r\n  const [movieList, setMovieList] = useState([]);\r\n  const { type } = useParams();\r\n\r\n  const [loading, setLoading] = useState(false); // Loading state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const apiKey = process.env.REACT_APP_API_KEY;\r\n\r\n  useEffect(() => {\r\n    setMovieList([]);\r\n    setCurrentPage(1);\r\n    setLoading(true);\r\n    window.scrollTo(0, 0);\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let request = await fetch(\r\n        `https://api.themoviedb.org/3/movie/${\r\n          type ? type : \"popular\"\r\n        }?api_key=${apiKey}&language=en-US&page=${currentPage}`\r\n      );\r\n      let response = await request.json();\r\n\r\n      if (type === \"upcoming\") {\r\n        response.results.sort(\r\n          (a, b) => new Date(b.release_date) - new Date(a.release_date)\r\n        );\r\n      }\r\n\r\n      setMovieList((prev) => [...prev, ...response.results]);\r\n      setTotalPages(response.total_pages);\r\n\r\n      setLoading(false);\r\n    }\r\n    fetchData();\r\n\r\n  }, [apiKey, currentPage, type]);\r\n\r\n  const nextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage((next) => next + 1);\r\n    }\r\n  };\r\n\r\n  const formatTitle = (title) => {\r\n    return (\r\n      title\r\n        .toLowerCase()\r\n        .replace(/_/g, \" \")\r\n        .replace(/\\b\\w/g, (char) => char.toUpperCase()) + \" Movies\"\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"movie_list\">\r\n      <h2 className=\"list_title\">{formatTitle(type ? type : \"\")}</h2>\r\n\r\n      {loading && currentPage === 1 ? (\r\n        <div class=\"lds-spinner\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"list_cards\">\r\n          {movieList.map((movie, i) => (\r\n            <Card key={i} movie={movie} />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <button\r\n        className=\"load_more_btn\"\r\n        onClick={nextPage}\r\n        disabled={currentPage >= totalPages}\r\n      >\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieList;\r\n\r\n\r\n"],"names":["MovieList","movieList","setMovieList","useState","type","useParams","loading","setLoading","currentPage","setCurrentPage","totalPages","setTotalPages","apiKey","process","useEffect","window","scrollTo","async","request","fetch","concat","response","json","results","sort","a","b","Date","release_date","prev","total_pages","fetchData","_jsxs","className","children","_jsx","title","toLowerCase","replace","char","toUpperCase","class","map","movie","i","Card","onClick","nextPage","next","disabled"],"sourceRoot":""}