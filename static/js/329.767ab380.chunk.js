"use strict";(self.webpackChunkmovie_app=self.webpackChunkmovie_app||[]).push([[329],{329:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(43),c=s(644),i=s(579);const o=e=>{let{movie:a}=e;const[s,o]=(0,t.useState)([]),[l,n]=(0,t.useState)(""),[r,d]=(0,t.useState)(1),[h,u]=(0,t.useState)(1),m="4b00124f942c7ffb82529a65edfe1c06";async function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{const a=l?"https://api.themoviedb.org/3/search/movie?api_key=".concat(m,"&query=").concat(l,"&language=en-US&page=").concat(r):"https://api.themoviedb.org/3/discover/movie?api_key=".concat(m,"&language=en-US&page=").concat(r),s=await fetch(a),t=await s.json();o(1===e?t.results:e=>[...e,...t.results]),u(t.total_pages)}catch(a){console.error("Error fetching data:",a)}}(0,t.useEffect)((()=>{p()}),[]);return(0,i.jsxs)("div",{className:"movie_list",children:[(0,i.jsx)("h2",{className:"list_title",children:"Search Movie"}),(0,i.jsxs)("div",{className:"search-bar",children:[(0,i.jsxs)("div",{className:"input-field",children:[(0,i.jsx)("i",{className:l?"fa-solid fa-xmark":"fa-solid fa-magnifying-glass",onClick:e=>n("")}),(0,i.jsx)("input",{type:"text",placeholder:"Search movie",value:l,onChange:e=>n(e.target.value)})]}),(0,i.jsx)("button",{onClick:()=>{d(1),p(1)},children:"Search"})]}),(0,i.jsx)("div",{className:"list_cards",children:s.length>1?s.map(((e,a)=>(0,i.jsx)(c.A,{movie:e},a))):(0,i.jsx)("h1",{children:"Sorry..... No Movie Found"})}),s.length>=20?(0,i.jsx)("button",{className:"load_more_btn",onClick:()=>{if(r<h){const e=r+1;d(e),p(e)}},disabled:r>=h,children:"Load More"}):""]})}}}]);
//# sourceMappingURL=329.767ab380.chunk.js.map